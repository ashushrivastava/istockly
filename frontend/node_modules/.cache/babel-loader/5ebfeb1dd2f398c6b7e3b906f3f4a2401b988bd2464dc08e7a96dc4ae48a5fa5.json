{"ast":null,"code":"// frontend/src/components/ProtectedRoute.jsx\n// Route protection component\nimport React from'react';import{Navigate}from'react-router-dom';import{useUser}from'@clerk/clerk-react';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,adminOnly=false}=_ref;const{isSignedIn,isLoaded,user}=useUser();if(!isLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-black\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-400\"})});}if(!isSignedIn){return/*#__PURE__*/_jsx(Navigate,{to:\"/sign-in\",replace:true});}if(adminOnly){var _user$primaryEmailAdd;const isAdmin=(user===null||user===void 0?void 0:(_user$primaryEmailAdd=user.primaryEmailAddress)===null||_user$primaryEmailAdd===void 0?void 0:_user$primaryEmailAdd.emailAddress)==='ashubitmesra121@gmail.com';if(!isAdmin){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useUser","jsx","_jsx","ProtectedRoute","_ref","children","adminOnly","isSignedIn","isLoaded","user","className","to","replace","_user$primaryEmailAdd","isAdmin","primaryEmailAddress","emailAddress"],"sources":["C:/Users/ashub/OneDrive/Desktop/Istokely/istockly-lms/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["// frontend/src/components/ProtectedRoute.jsx\r\n// Route protection component\r\n\r\nimport React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useUser } from '@clerk/clerk-react';\r\n\r\nconst ProtectedRoute = ({ children, adminOnly = false }) => {\r\n  const { isSignedIn, isLoaded, user } = useUser();\r\n\r\n  if (!isLoaded) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-black\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-400\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isSignedIn) {\r\n    return <Navigate to=\"/sign-in\" replace />;\r\n  }\r\n\r\n  if (adminOnly) {\r\n    const isAdmin = user?.primaryEmailAddress?.emailAddress === 'ashubitmesra121@gmail.com';\r\n    if (!isAdmin) {\r\n      return <Navigate to=\"/\" replace />;\r\n    }\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;"],"mappings":"AAAA;AACA;AAEA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAqC,IAApC,CAAEC,QAAQ,CAAEC,SAAS,CAAG,KAAM,CAAC,CAAAF,IAAA,CACrD,KAAM,CAAEG,UAAU,CAAEC,QAAQ,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAEhD,GAAI,CAACQ,QAAQ,CAAE,CACb,mBACEN,IAAA,QAAKQ,SAAS,CAAC,wDAAwD,CAAAL,QAAA,cACrEH,IAAA,QAAKQ,SAAS,CAAC,6EAA6E,CAAM,CAAC,CAChG,CAAC,CAEV,CAEA,GAAI,CAACH,UAAU,CAAE,CACf,mBAAOL,IAAA,CAACH,QAAQ,EAACY,EAAE,CAAC,UAAU,CAACC,OAAO,MAAE,CAAC,CAC3C,CAEA,GAAIN,SAAS,CAAE,KAAAO,qBAAA,CACb,KAAM,CAAAC,OAAO,CAAG,CAAAL,IAAI,SAAJA,IAAI,kBAAAI,qBAAA,CAAJJ,IAAI,CAAEM,mBAAmB,UAAAF,qBAAA,iBAAzBA,qBAAA,CAA2BG,YAAY,IAAK,2BAA2B,CACvF,GAAI,CAACF,OAAO,CAAE,CACZ,mBAAOZ,IAAA,CAACH,QAAQ,EAACY,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAC,CACpC,CACF,CAEA,MAAO,CAAAP,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}