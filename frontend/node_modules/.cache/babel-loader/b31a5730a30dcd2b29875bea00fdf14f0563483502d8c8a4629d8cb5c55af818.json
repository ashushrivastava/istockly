{"ast":null,"code":"// frontend/src/utils/api.js\n// API utility functions with axios\nimport axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';// Create axios instance\nconst api=axios.create({baseURL:API_URL,headers:{'Content-Type':'application/json'}});// Add auth token to requests\nexport const setAuthToken=token=>{if(token){api.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete api.defaults.headers.common['Authorization'];}};// Courses API\nexport const coursesAPI={getAll:params=>api.get('/courses',{params}),getBySlug:slug=>api.get(\"/courses/\".concat(slug)),getCategories:()=>api.get('/courses/meta/categories')};// User API\nexport const userAPI={getEnrolledCourses:()=>api.get('/user/enrolled-courses'),checkCourseAccess:courseId=>api.get(\"/user/courses/\".concat(courseId,\"/access\")),getCourseWithProgress:courseId=>api.get(\"/user/courses/\".concat(courseId)),updateProgress:(courseId,data)=>api.post(\"/user/courses/\".concat(courseId,\"/progress\"),data),getDashboardStats:()=>api.get('/user/dashboard/stats'),syncUser:data=>api.post('/user/sync',data)};// Admin API\nexport const adminAPI={getAllCourses:()=>api.get('/admin/courses'),getCourse:id=>api.get(\"/admin/courses/\".concat(id)),createCourse:data=>api.post('/admin/courses',data),updateCourse:(id,data)=>api.put(\"/admin/courses/\".concat(id),data),deleteCourse:id=>api.delete(\"/admin/courses/\".concat(id)),togglePublish:id=>api.patch(\"/admin/courses/\".concat(id,\"/publish\")),getAnalytics:()=>api.get('/admin/analytics'),getUsers:params=>api.get('/admin/users',{params}),getUserDetails:userId=>api.get(\"/admin/users/\".concat(userId)),getUsersFromDB:()=>api.get('/admin/users/db')};// Payment API\nexport const paymentAPI={initiate:data=>api.post('/payment/initiate',data),checkStatus:transactionId=>api.get(\"/payment/status/\".concat(transactionId)),getHistory:()=>api.get('/payment/history')};// Upload API\nexport const uploadAPI={uploadImage:formData=>{return api.post('/upload/image',formData,{headers:{'Content-Type':'multipart/form-data'}});},deleteImage:publicId=>api.delete(\"/upload/image/\".concat(publicId.replace(/\\//g,'___')))};// Live Programs API\nexport const liveProgramsAPI={getAll:params=>api.get('/live-programs',{params}),getByType:type=>api.get(\"/live-programs/type/\".concat(type)),getBySlug:slug=>api.get(\"/live-programs/\".concat(slug))};// Admin Live Programs API\nexport const adminLiveProgramsAPI={getAll:()=>api.get('/admin/live-programs'),getById:id=>api.get(\"/admin/live-programs/\".concat(id)),create:data=>api.post('/admin/live-programs',data),update:(id,data)=>api.put(\"/admin/live-programs/\".concat(id),data),delete:id=>api.delete(\"/admin/live-programs/\".concat(id)),togglePublish:id=>api.patch(\"/admin/live-programs/\".concat(id,\"/toggle-publish\"))};export default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","setAuthToken","token","defaults","common","concat","coursesAPI","getAll","params","get","getBySlug","slug","getCategories","userAPI","getEnrolledCourses","checkCourseAccess","courseId","getCourseWithProgress","updateProgress","data","post","getDashboardStats","syncUser","adminAPI","getAllCourses","getCourse","id","createCourse","updateCourse","put","deleteCourse","delete","togglePublish","patch","getAnalytics","getUsers","getUserDetails","userId","getUsersFromDB","paymentAPI","initiate","checkStatus","transactionId","getHistory","uploadAPI","uploadImage","formData","deleteImage","publicId","replace","liveProgramsAPI","getByType","type","adminLiveProgramsAPI","getById","update"],"sources":["C:/Users/ashub/OneDrive/Desktop/Istokely/istockly-lms/frontend/src/utils/api.js"],"sourcesContent":["// frontend/src/utils/api.js\r\n// API utility functions with axios\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add auth token to requests\r\nexport const setAuthToken = (token) => {\r\n  if (token) {\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\n// Courses API\r\nexport const coursesAPI = {\r\n  getAll: (params) => api.get('/courses', { params }),\r\n  getBySlug: (slug) => api.get(`/courses/${slug}`),\r\n  getCategories: () => api.get('/courses/meta/categories'),\r\n};\r\n\r\n// User API\r\nexport const userAPI = {\r\n  getEnrolledCourses: () => api.get('/user/enrolled-courses'),\r\n  checkCourseAccess: (courseId) => api.get(`/user/courses/${courseId}/access`),\r\n  getCourseWithProgress: (courseId) => api.get(`/user/courses/${courseId}`),\r\n  updateProgress: (courseId, data) => api.post(`/user/courses/${courseId}/progress`, data),\r\n  getDashboardStats: () => api.get('/user/dashboard/stats'),\r\n  syncUser: (data) => api.post('/user/sync', data),\r\n};\r\n\r\n// Admin API\r\nexport const adminAPI = {\r\n  getAllCourses: () => api.get('/admin/courses'),\r\n  getCourse: (id) => api.get(`/admin/courses/${id}`),\r\n  createCourse: (data) => api.post('/admin/courses', data),\r\n  updateCourse: (id, data) => api.put(`/admin/courses/${id}`, data),\r\n  deleteCourse: (id) => api.delete(`/admin/courses/${id}`),\r\n  togglePublish: (id) => api.patch(`/admin/courses/${id}/publish`),\r\n  getAnalytics: () => api.get('/admin/analytics'),\r\n  getUsers: (params) => api.get('/admin/users', { params }),\r\n  getUserDetails: (userId) => api.get(`/admin/users/${userId}`),\r\n  getUsersFromDB: () => api.get('/admin/users/db'),\r\n};\r\n\r\n// Payment API\r\nexport const paymentAPI = {\r\n  initiate: (data) => api.post('/payment/initiate', data),\r\n  checkStatus: (transactionId) => api.get(`/payment/status/${transactionId}`),\r\n  getHistory: () => api.get('/payment/history'),\r\n};\r\n\r\n// Upload API\r\nexport const uploadAPI = {\r\n  uploadImage: (formData) => {\r\n    return api.post('/upload/image', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  deleteImage: (publicId) => api.delete(`/upload/image/${publicId.replace(/\\//g, '___')}`),\r\n};\r\n\r\n\r\n\r\n// Live Programs API\r\nexport const liveProgramsAPI = {\r\n  getAll: (params) => api.get('/live-programs', { params }),\r\n  getByType: (type) => api.get(`/live-programs/type/${type}`),\r\n  getBySlug: (slug) => api.get(`/live-programs/${slug}`),\r\n};\r\n\r\n// Admin Live Programs API\r\nexport const adminLiveProgramsAPI = {\r\n  getAll: () => api.get('/admin/live-programs'),\r\n  getById: (id) => api.get(`/admin/live-programs/${id}`),\r\n  create: (data) => api.post('/admin/live-programs', data),\r\n  update: (id, data) => api.put(`/admin/live-programs/${id}`, data),\r\n  delete: (id) => api.delete(`/admin/live-programs/${id}`),\r\n  togglePublish: (id) => api.patch(`/admin/live-programs/${id}/toggle-publish`),\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}