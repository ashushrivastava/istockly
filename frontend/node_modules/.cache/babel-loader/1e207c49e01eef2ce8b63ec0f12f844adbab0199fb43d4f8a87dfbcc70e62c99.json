{"ast":null,"code":"// frontend/src/utils/api.js\n// API utility functions with axios\n\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add auth token to requests\nexport const setAuthToken = token => {\n  if (token) {\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n  }\n};\n\n// Courses API\nexport const coursesAPI = {\n  getAll: params => api.get('/courses', {\n    params\n  }),\n  getBySlug: slug => api.get(`/courses/${slug}`),\n  getCategories: () => api.get('/courses/meta/categories')\n};\n\n// User API\nexport const userAPI = {\n  getEnrolledCourses: () => api.get('/user/enrolled-courses'),\n  checkCourseAccess: courseId => api.get(`/user/courses/${courseId}/access`),\n  getCourseWithProgress: courseId => api.get(`/user/courses/${courseId}`),\n  updateProgress: (courseId, data) => api.post(`/user/courses/${courseId}/progress`, data),\n  getDashboardStats: () => api.get('/user/dashboard/stats'),\n  syncUser: data => api.post('/user/sync', data)\n};\n\n// Admin API\nexport const adminAPI = {\n  getAllCourses: () => api.get('/admin/courses'),\n  getCourse: id => api.get(`/admin/courses/${id}`),\n  createCourse: data => api.post('/admin/courses', data),\n  updateCourse: (id, data) => api.put(`/admin/courses/${id}`, data),\n  deleteCourse: id => api.delete(`/admin/courses/${id}`),\n  togglePublish: id => api.patch(`/admin/courses/${id}/publish`),\n  getAnalytics: () => api.get('/admin/analytics'),\n  getUsers: params => api.get('/admin/users', {\n    params\n  }),\n  getUserDetails: userId => api.get(`/admin/users/${userId}`),\n  getUsersFromDB: () => api.get('/admin/users/db')\n};\n\n// Payment API\nexport const paymentAPI = {\n  initiate: data => api.post('/payment/initiate', data),\n  checkStatus: transactionId => api.get(`/payment/status/${transactionId}`),\n  getHistory: () => api.get('/payment/history')\n};\n\n// Upload API\nexport const uploadAPI = {\n  uploadImage: formData => {\n    return api.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  deleteImage: publicId => api.delete(`/upload/image/${publicId.replace(/\\//g, '___')}`)\n};\n\n// Live Programs API\nexport const liveProgramsAPI = {\n  getAll: params => api.get('/live-programs', {\n    params\n  }),\n  getByType: type => api.get(`/live-programs/type/${type}`),\n  getBySlug: slug => api.get(`/live-programs/${slug}`)\n};\n\n// Admin Live Programs API\nexport const adminLiveProgramsAPI = {\n  getAll: () => api.get('/admin/live-programs'),\n  getById: id => api.get(`/admin/live-programs/${id}`),\n  create: data => api.post('/admin/live-programs', data),\n  update: (id, data) => api.put(`/admin/live-programs/${id}`, data),\n  delete: id => api.delete(`/admin/live-programs/${id}`),\n  togglePublish: id => api.patch(`/admin/live-programs/${id}/toggle-publish`)\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","setAuthToken","token","defaults","common","coursesAPI","getAll","params","get","getBySlug","slug","getCategories","userAPI","getEnrolledCourses","checkCourseAccess","courseId","getCourseWithProgress","updateProgress","data","post","getDashboardStats","syncUser","adminAPI","getAllCourses","getCourse","id","createCourse","updateCourse","put","deleteCourse","delete","togglePublish","patch","getAnalytics","getUsers","getUserDetails","userId","getUsersFromDB","paymentAPI","initiate","checkStatus","transactionId","getHistory","uploadAPI","uploadImage","formData","deleteImage","publicId","replace","liveProgramsAPI","getByType","type","adminLiveProgramsAPI","getById","update"],"sources":["C:/Users/ashub/OneDrive/Desktop/Istokely/istockly-lms/frontend/src/utils/api.js"],"sourcesContent":["// frontend/src/utils/api.js\r\n// API utility functions with axios\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add auth token to requests\r\nexport const setAuthToken = (token) => {\r\n  if (token) {\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\n// Courses API\r\nexport const coursesAPI = {\r\n  getAll: (params) => api.get('/courses', { params }),\r\n  getBySlug: (slug) => api.get(`/courses/${slug}`),\r\n  getCategories: () => api.get('/courses/meta/categories'),\r\n};\r\n\r\n// User API\r\nexport const userAPI = {\r\n  getEnrolledCourses: () => api.get('/user/enrolled-courses'),\r\n  checkCourseAccess: (courseId) => api.get(`/user/courses/${courseId}/access`),\r\n  getCourseWithProgress: (courseId) => api.get(`/user/courses/${courseId}`),\r\n  updateProgress: (courseId, data) => api.post(`/user/courses/${courseId}/progress`, data),\r\n  getDashboardStats: () => api.get('/user/dashboard/stats'),\r\n  syncUser: (data) => api.post('/user/sync', data),\r\n};\r\n\r\n// Admin API\r\nexport const adminAPI = {\r\n  getAllCourses: () => api.get('/admin/courses'),\r\n  getCourse: (id) => api.get(`/admin/courses/${id}`),\r\n  createCourse: (data) => api.post('/admin/courses', data),\r\n  updateCourse: (id, data) => api.put(`/admin/courses/${id}`, data),\r\n  deleteCourse: (id) => api.delete(`/admin/courses/${id}`),\r\n  togglePublish: (id) => api.patch(`/admin/courses/${id}/publish`),\r\n  getAnalytics: () => api.get('/admin/analytics'),\r\n  getUsers: (params) => api.get('/admin/users', { params }),\r\n  getUserDetails: (userId) => api.get(`/admin/users/${userId}`),\r\n  getUsersFromDB: () => api.get('/admin/users/db'),\r\n};\r\n\r\n// Payment API\r\nexport const paymentAPI = {\r\n  initiate: (data) => api.post('/payment/initiate', data),\r\n  checkStatus: (transactionId) => api.get(`/payment/status/${transactionId}`),\r\n  getHistory: () => api.get('/payment/history'),\r\n};\r\n\r\n// Upload API\r\nexport const uploadAPI = {\r\n  uploadImage: (formData) => {\r\n    return api.post('/upload/image', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  deleteImage: (publicId) => api.delete(`/upload/image/${publicId.replace(/\\//g, '___')}`),\r\n};\r\n\r\n\r\n\r\n// Live Programs API\r\nexport const liveProgramsAPI = {\r\n  getAll: (params) => api.get('/live-programs', { params }),\r\n  getByType: (type) => api.get(`/live-programs/type/${type}`),\r\n  getBySlug: (slug) => api.get(`/live-programs/${slug}`),\r\n};\r\n\r\n// Admin Live Programs API\r\nexport const adminLiveProgramsAPI = {\r\n  getAll: () => api.get('/admin/live-programs'),\r\n  getById: (id) => api.get(`/admin/live-programs/${id}`),\r\n  create: (data) => api.post('/admin/live-programs', data),\r\n  update: (id, data) => api.put(`/admin/live-programs/${id}`, data),\r\n  delete: (id) => api.delete(`/admin/live-programs/${id}`),\r\n  togglePublish: (id) => api.patch(`/admin/live-programs/${id}/toggle-publish`),\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}